<!doctype html>
<html lang="">	
<head>
	<meta charset="utf-8"/>
	<title>Data Cleaning - Welcome to my blog</title>	
	<meta name="author" content="Lucas Ho">
	

	<meta name="description" content="Let me tell you one of the biggest misconceptions aspiring data science newbies have nowadays. Real-world work is not something that the newbies think while studying in school. Unfortunately, you will surprise that the real-world projects give you a headache with data cleaning. In fact, 70%-80% of your time …">


	<link rel="top" href="#" /><link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,300italic,400italic,600italic|Source+Code+Pro' rel='stylesheet' type='text/css'></link>
	<link rel="stylesheet" href=" https://lucashomil.github.io/datascience/theme/css/main.css" type="text/css" />
		

    <link href=" https://lucashomil.github.io/datascience/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Welcome to my blog Atom Feed" />
</head>
	
<body>

    <div class="container">
	  
	  <header role="banner">
	    <div class="feeds">
	        <a href=" https://lucashomil.github.io/datascience/feeds/all.atom.xml" rel="alternate"><img src=" https://lucashomil.github.io/datascience/theme/images/icons/feed-32px.png" alt="atom feed"/></a>
	    </div>
	      <nav class="pages">
	      </nav>
		<a href=" https://lucashomil.github.io/datascience" class="title">Welcome to my blog</a>
      </header>
	
	  <div class="wrapper">

		  <div role="main" class="content">
	<article class="full">
			
		<h1>Data Cleaning</h1>
		
<div class="metadata">
  <time datetime="2019-06-13T10:20:00-04:00" pubdate>Thu 13 June 2019</time>
    <address class="vcard author">
      by <a class="url fn" href=" https://lucashomil.github.io/datascience/author/lucas-ho.html">Lucas Ho</a>
    </address>
  in <a href=" https://lucashomil.github.io/datascience/category/misc.html">misc</a>
<p class="tags">tagged <a href=" https://lucashomil.github.io/datascience/tag/python.html">python</a></p></div>		
		<p>Let me tell you one of the biggest misconceptions aspiring data science newbies have nowadays. Real-world work is not something that the newbies think while studying in school. Unfortunately, you will surprise that the real-world projects give you a headache with data cleaning. In fact, 70%-80% of your time should just be collecting and cleaning data. You have to work with messy and unclean data. And, it is something that eventually becomes part of your routine work.</p>
<p>In school, we could be provided datasets which are clean and spotless. For example, hackathons and Kaggle have a good database that we can download them and start working on the problem. Moreover, accuracy is not always the primary goal. Sometimes, you don’t really need a result as 1 plus 1 equal 2. Your boss just might want to know how you can optimize your algorithm for impact, not for the increasing of accuracy. </p>
<p>Therefore, you should know how to deal with messy data, whether that means missing values, inconsistent formatting, malformed records, or nonsensical outliers, etc. In this blog, I’ll leverage Python’s Pandas and NumPy libraries to clean data.</p>
<p>We will use a data set on Sacramento real estate sales as an example. The data set contains information on qualities of the property, location of the property, and time of sale.</p>
<p>First of all, we need to import Numpy and Pandas libraries.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">sac_csv</span> <span class="o">=</span> <span class="s1">&#39;sacramento_real_estate_transactions.csv&#39;</span>
</pre></div>


<p>Check our Data … Quickly</p>
<p>The first thing you want to do when you get a new dataset, is to quickly to verify the contents with the .head(), .info(), .describe() methods.</p>
<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">sac_csv</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq__ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3526 HIGH ST</td>
      <td>SACRAMENTO</td>
      <td>95838</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>836</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>59222</td>
      <td>38.631913</td>
      <td>-121.434879</td>
    </tr>
    <tr>
      <th>1</th>
      <td>51 OMAHA CT</td>
      <td>SACRAMENTO</td>
      <td>95823</td>
      <td>CA</td>
      <td>3</td>
      <td>1</td>
      <td>1167</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>68212</td>
      <td>38.478902</td>
      <td>-121.431028</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2796 BRANCH ST</td>
      <td>SACRAMENTO</td>
      <td>95815</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>796</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>68880</td>
      <td>38.618305</td>
      <td>-121.443839</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2805 JANETTE WAY</td>
      <td>SACRAMENTO</td>
      <td>95815</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>852</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>69307</td>
      <td>38.616835</td>
      <td>-121.439146</td>
    </tr>
    <tr>
      <th>4</th>
      <td>6001 MCMAHON DR</td>
      <td>SACRAMENTO</td>
      <td>95824</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>797</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>81900</td>
      <td>38.519470</td>
      <td>-121.435768</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>

<span class="c1"># Now let’s quickly see the names and types of the columns. </span>
<span class="c1"># Most of the time you’re going get data that is not quite what you expected</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="k">class</span> <span class="s1">&#39;pandas.core.frame.DataFrame&#39;</span><span class="o">&gt;</span>
<span class="n">RangeIndex</span><span class="p">:</span> <span class="mi">985</span> <span class="n">entries</span><span class="p">,</span> <span class="mi">0</span> <span class="k">to</span> <span class="mi">984</span>
<span class="k">Data</span> <span class="n">columns</span> <span class="p">(</span><span class="n">total</span> <span class="mi">12</span> <span class="n">columns</span><span class="p">):</span>
<span class="n">street</span>       <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="k">object</span>
<span class="n">city</span>         <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="k">object</span>
<span class="n">zip</span>          <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">int64</span>
<span class="k">state</span>        <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="k">object</span>
<span class="n">beds</span>         <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">int64</span>
<span class="n">baths</span>        <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">int64</span>
<span class="n">sq__ft</span>       <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">int64</span>
<span class="k">type</span>         <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="k">object</span>
<span class="n">sale_date</span>    <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="k">object</span>
<span class="n">price</span>        <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">int64</span>
<span class="n">latitude</span>     <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">float64</span>
<span class="n">longitude</span>    <span class="mi">985</span> <span class="n">non</span><span class="o">-</span><span class="k">null</span> <span class="n">float64</span>
<span class="n">dtypes</span><span class="p">:</span> <span class="n">float64</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">int64</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="k">object</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">memory</span> <span class="k">usage</span><span class="p">:</span> <span class="mi">92</span><span class="p">.</span><span class="mi">4</span><span class="o">+</span> <span class="n">KB</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>

<span class="c1"># We find that &#39;Sq_ft&#39; and &#39;price&#39; have negative values. Take a look and min values.</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zip</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq__ft</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>95750.697462</td>
      <td>2.911675</td>
      <td>1.776650</td>
      <td>1312.918782</td>
      <td>233715.951269</td>
      <td>38.445121</td>
      <td>-121.193371</td>
    </tr>
    <tr>
      <th>std</th>
      <td>85.176072</td>
      <td>1.307932</td>
      <td>0.895371</td>
      <td>856.123224</td>
      <td>139088.818896</td>
      <td>5.103637</td>
      <td>5.100670</td>
    </tr>
    <tr>
      <th>min</th>
      <td>95603.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>-984.000000</td>
      <td>-210944.000000</td>
      <td>-121.503471</td>
      <td>-121.551704</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>95660.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>950.000000</td>
      <td>145000.000000</td>
      <td>38.482704</td>
      <td>-121.446119</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>95762.000000</td>
      <td>3.000000</td>
      <td>2.000000</td>
      <td>1304.000000</td>
      <td>213750.000000</td>
      <td>38.625932</td>
      <td>-121.375799</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>95828.000000</td>
      <td>4.000000</td>
      <td>2.000000</td>
      <td>1718.000000</td>
      <td>300000.000000</td>
      <td>38.695589</td>
      <td>-121.294893</td>
    </tr>
    <tr>
      <th>max</th>
      <td>95864.000000</td>
      <td>8.000000</td>
      <td>5.000000</td>
      <td>5822.000000</td>
      <td>884790.000000</td>
      <td>39.020808</td>
      <td>38.668433</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="c1"># Fixing &#39;Sq_ft&#39; and &#39;price&#39; error for negative values</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;sq__ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;sq__ft&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zip</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq__ft</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
      <td>985.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>95750.697462</td>
      <td>2.911675</td>
      <td>1.776650</td>
      <td>1314.916751</td>
      <td>234144.263959</td>
      <td>38.445121</td>
      <td>-121.193371</td>
    </tr>
    <tr>
      <th>std</th>
      <td>85.176072</td>
      <td>1.307932</td>
      <td>0.895371</td>
      <td>853.048243</td>
      <td>138365.839085</td>
      <td>5.103637</td>
      <td>5.100670</td>
    </tr>
    <tr>
      <th>min</th>
      <td>95603.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1551.000000</td>
      <td>-121.503471</td>
      <td>-121.551704</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>95660.000000</td>
      <td>2.000000</td>
      <td>1.000000</td>
      <td>952.000000</td>
      <td>145000.000000</td>
      <td>38.482704</td>
      <td>-121.446119</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>95762.000000</td>
      <td>3.000000</td>
      <td>2.000000</td>
      <td>1304.000000</td>
      <td>213750.000000</td>
      <td>38.625932</td>
      <td>-121.375799</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>95828.000000</td>
      <td>4.000000</td>
      <td>2.000000</td>
      <td>1718.000000</td>
      <td>300000.000000</td>
      <td>38.695589</td>
      <td>-121.294893</td>
    </tr>
    <tr>
      <th>max</th>
      <td>95864.000000</td>
      <td>8.000000</td>
      <td>5.000000</td>
      <td>5822.000000</td>
      <td>884790.000000</td>
      <td>39.020808</td>
      <td>38.668433</td>
    </tr>
  </tbody>
</table>
</div>

<p>We also need to check if there is any empty values</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">empty</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="k">False</span>
</pre></div>


<p>We also need to check unique values for each columns. Thus, we can detect any errors and fix them.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">,</span> <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">,</span> <span class="s1">&#39;CITRUS HEIGHTS&#39;</span><span class="p">,</span>
       <span class="s1">&#39;NORTH HIGHLANDS&#39;</span><span class="p">,</span> <span class="s1">&#39;ANTELOPE&#39;</span><span class="p">,</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">,</span> <span class="s1">&#39;ELVERTA&#39;</span><span class="p">,</span> <span class="s1">&#39;GALT&#39;</span><span class="p">,</span>
       <span class="s1">&#39;CARMICHAEL&#39;</span><span class="p">,</span> <span class="s1">&#39;ORANGEVALE&#39;</span><span class="p">,</span> <span class="s1">&#39;FOLSOM&#39;</span><span class="p">,</span> <span class="s1">&#39;MATHER&#39;</span><span class="p">,</span> <span class="s1">&#39;POLLOCK PINES&#39;</span><span class="p">,</span>
       <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">,</span> <span class="s1">&#39;EL DORADO HILLS&#39;</span><span class="p">,</span> <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">,</span> <span class="s1">&#39;WILTON&#39;</span><span class="p">,</span>
       <span class="s1">&#39;GREENWOOD&#39;</span><span class="p">,</span> <span class="s1">&#39;FAIR OAKS&#39;</span><span class="p">,</span> <span class="s1">&#39;CAMERON PARK&#39;</span><span class="p">,</span> <span class="s1">&#39;LINCOLN&#39;</span><span class="p">,</span> <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">,</span>
       <span class="s1">&#39;MEADOW VISTA&#39;</span><span class="p">,</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">,</span> <span class="s1">&#39;ROCKLIN&#39;</span><span class="p">,</span> <span class="s1">&#39;AUBURN&#39;</span><span class="p">,</span> <span class="s1">&#39;LOOMIS&#39;</span><span class="p">,</span>
       <span class="s1">&#39;EL DORADO&#39;</span><span class="p">,</span> <span class="s1">&#39;PENRYN&#39;</span><span class="p">,</span> <span class="s1">&#39;GRANITE BAY&#39;</span><span class="p">,</span> <span class="s1">&#39;FORESTHILL&#39;</span><span class="p">,</span>
       <span class="s1">&#39;DIAMOND SPRINGS&#39;</span><span class="p">,</span> <span class="s1">&#39;SHINGLE SPRINGS&#39;</span><span class="p">,</span> <span class="s1">&#39;COOL&#39;</span><span class="p">,</span> <span class="s1">&#39;WALNUT GROVE&#39;</span><span class="p">,</span>
       <span class="s1">&#39;GARDEN VALLEY&#39;</span><span class="p">,</span> <span class="s1">&#39;SLOUGHHOUSE&#39;</span><span class="p">,</span> <span class="s1">&#39;WEST SACRAMENTO&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1">#There is no state which has postal code abbreviation &quot;AC&quot;</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;CA&#39;</span><span class="p">,</span> <span class="s1">&#39;AC&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int64</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

<span class="c1"># Typo &quot;Unkown&quot;</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;Residential&#39;</span><span class="p">,</span> <span class="s1">&#39;Condo&#39;</span><span class="p">,</span> <span class="s1">&#39;Multi-Family&#39;</span><span class="p">,</span> <span class="s1">&#39;Unkown&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Fixing typo </span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Unkown&#39;</span><span class="p">,</span> <span class="s1">&#39;Unknown&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;Residential&#39;</span><span class="p">,</span> <span class="s1">&#39;Condo&#39;</span><span class="p">,</span> <span class="s1">&#39;Multi-Family&#39;</span><span class="p">,</span> <span class="s1">&#39;Unknown&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int64</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Fixing state typo</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;AC&#39;</span><span class="p">,</span> <span class="s1">&#39;CA&#39;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1">#Checking if error was fixed</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;state&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;CA&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<p>Just an extra step to make the column's name look nicer</p>
<div class="highlight"><pre><span></span><span class="c1"># sq__ft should only have one &#39;_&#39;</span>

<span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;sq__ft&#39;</span><span class="p">:</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3526 HIGH ST</td>
      <td>SACRAMENTO</td>
      <td>95838</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>836</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>59222</td>
      <td>38.631913</td>
      <td>-121.434879</td>
    </tr>
    <tr>
      <th>1</th>
      <td>51 OMAHA CT</td>
      <td>SACRAMENTO</td>
      <td>95823</td>
      <td>CA</td>
      <td>3</td>
      <td>1</td>
      <td>1167</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>68212</td>
      <td>38.478902</td>
      <td>-121.431028</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2796 BRANCH ST</td>
      <td>SACRAMENTO</td>
      <td>95815</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>796</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>68880</td>
      <td>38.618305</td>
      <td>-121.443839</td>
    </tr>
  </tbody>
</table>
</div>

<p>Ahha, checking duplicate rows is also needed</p>
<div class="highlight"><pre><span></span><span class="n">duplicate</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">street</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="bp">False</span><span class="p">)]</span>

<span class="c1"># duplicate = df.loc[duplicate_bool == True]</span>

<span class="n">duplicate</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>341</th>
      <td>4734 14TH AVE</td>
      <td>SACRAMENTO</td>
      <td>95820</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>834</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>68000</td>
      <td>38.539447</td>
      <td>-121.450858</td>
    </tr>
    <tr>
      <th>342</th>
      <td>4734 14TH AVE</td>
      <td>SACRAMENTO</td>
      <td>95820</td>
      <td>CA</td>
      <td>2</td>
      <td>1</td>
      <td>834</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>68000</td>
      <td>38.539447</td>
      <td>-121.450858</td>
    </tr>
    <tr>
      <th>393</th>
      <td>1223 LAMBERTON CIR</td>
      <td>SACRAMENTO</td>
      <td>95838</td>
      <td>CA</td>
      <td>3</td>
      <td>2</td>
      <td>1370</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>155435</td>
      <td>38.646677</td>
      <td>-121.437573</td>
    </tr>
    <tr>
      <th>394</th>
      <td>1223 LAMBERTON CIR</td>
      <td>SACRAMENTO</td>
      <td>95838</td>
      <td>CA</td>
      <td>3</td>
      <td>2</td>
      <td>1370</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>155500</td>
      <td>38.646677</td>
      <td>-121.437573</td>
    </tr>
    <tr>
      <th>403</th>
      <td>8306 CURLEW CT</td>
      <td>CITRUS HEIGHTS</td>
      <td>95621</td>
      <td>CA</td>
      <td>4</td>
      <td>2</td>
      <td>1280</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>167293</td>
      <td>38.715781</td>
      <td>-121.298519</td>
    </tr>
    <tr>
      <th>404</th>
      <td>8306 CURLEW CT</td>
      <td>CITRUS HEIGHTS</td>
      <td>95621</td>
      <td>CA</td>
      <td>4</td>
      <td>2</td>
      <td>1280</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>167293</td>
      <td>38.715781</td>
      <td>-121.298519</td>
    </tr>
    <tr>
      <th>600</th>
      <td>7 CRYSTALWOOD CIR</td>
      <td>LINCOLN</td>
      <td>95648</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>4897</td>
      <td>38.885962</td>
      <td>-121.289436</td>
    </tr>
    <tr>
      <th>601</th>
      <td>7 CRYSTALWOOD CIR</td>
      <td>LINCOLN</td>
      <td>95648</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Residential</td>
      <td>Mon May 19 00:00:00 EDT 2008</td>
      <td>4897</td>
      <td>38.885962</td>
      <td>-121.289436</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="c1"># Fixing duplicate rows</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()]</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>
</div>

<p>Sometimes, we have to explore the data set in order to understand every single value in cells</p>
<div class="highlight"><pre><span></span><span class="c1"># latitude range [-90, 90]</span>
<span class="c1"># Longtitude range [-180, 180]</span>

<span class="c1"># df[&#39;latitude&#39;] is not correct</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()]</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>703</th>
      <td>1900 DANBROOK DR</td>
      <td>SACRAMENTO</td>
      <td>95835</td>
      <td>CA</td>
      <td>1</td>
      <td>1</td>
      <td>984</td>
      <td>Condo</td>
      <td>Fri May 16 00:00:00 EDT 2008</td>
      <td>210944</td>
      <td>-121.503471</td>
      <td>38.668433</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="c1">#Switching values </span>

<span class="n">lat</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">703</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span>
<span class="nb">long</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">703</span><span class="p">,</span> <span class="s1">&#39;latitude&#39;</span><span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;latitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">703</span><span class="p">,</span><span class="s1">&#39;latitude&#39;</span><span class="p">],</span> <span class="n">lat</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;longitude&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">703</span><span class="p">,</span><span class="s1">&#39;longitude&#39;</span><span class="p">],</span> <span class="nb">long</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<p>We always deal with NaN values, but we also have to be aware of zero values which may affect our data. For missing values, if you need to fill in errors or blanks, use the fillna() and dropna() methods. You could just drop them from the dataframe entirely, either by the row or by the column, but you have to keep in mind, do not delete over 5% of dataset.</p>
<p>You could fill the NaNs with strings, or if they are numbers you could use imputation methods which use the mean or the median value. In this case, we will treat zero values as NaN values.</p>
<div class="highlight"><pre><span></span><span class="c1">#Cleaning data with sq_ft = 0</span>

<span class="n">zero</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">]</span>
<span class="n">zero</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>73</th>
      <td>17 SERASPI CT</td>
      <td>SACRAMENTO</td>
      <td>95834</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>206000</td>
      <td>38.631481</td>
      <td>-121.501880</td>
    </tr>
    <tr>
      <th>89</th>
      <td>2866 KARITSA AVE</td>
      <td>SACRAMENTO</td>
      <td>95833</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>244500</td>
      <td>38.626671</td>
      <td>-121.525970</td>
    </tr>
    <tr>
      <th>100</th>
      <td>12209 CONSERVANCY WAY</td>
      <td>RANCHO CORDOVA</td>
      <td>95742</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>263500</td>
      <td>38.553867</td>
      <td>-121.219141</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">zero</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">,</span> <span class="s1">&#39;EL DORADO HILLS&#39;</span><span class="p">,</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">,</span>
       <span class="s1">&#39;FOLSOM&#39;</span><span class="p">,</span> <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">,</span> <span class="s1">&#39;CAMERON PARK&#39;</span><span class="p">,</span> <span class="s1">&#39;LINCOLN&#39;</span><span class="p">,</span>
       <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">,</span> <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">,</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">,</span> <span class="s1">&#39;ROCKLIN&#39;</span><span class="p">,</span> <span class="s1">&#39;AUBURN&#39;</span><span class="p">,</span>
       <span class="s1">&#39;WILTON&#39;</span><span class="p">,</span> <span class="s1">&#39;GALT&#39;</span><span class="p">,</span> <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">,</span> <span class="s1">&#39;FORESTHILL&#39;</span><span class="p">,</span> <span class="s1">&#39;SHINGLE SPRINGS&#39;</span><span class="p">,</span>
       <span class="s1">&#39;GARDEN VALLEY&#39;</span><span class="p">,</span> <span class="s1">&#39;WEST SACRAMENTO&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">nan</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">)[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">nan</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sq_ft</th>
    </tr>
    <tr>
      <th>city</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>ANTELOPE</th>
      <td>1669.0</td>
    </tr>
    <tr>
      <th>AUBURN</th>
      <td>960.0</td>
    </tr>
    <tr>
      <th>CAMERON PARK</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>CARMICHAEL</th>
      <td>1472.5</td>
    </tr>
    <tr>
      <th>CITRUS HEIGHTS</th>
      <td>1292.5</td>
    </tr>
    <tr>
      <th>COOL</th>
      <td>1457.0</td>
    </tr>
    <tr>
      <th>DIAMOND SPRINGS</th>
      <td>1300.0</td>
    </tr>
    <tr>
      <th>EL DORADO</th>
      <td>1332.0</td>
    </tr>
    <tr>
      <th>EL DORADO HILLS</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>ELK GROVE</th>
      <td>1722.5</td>
    </tr>
    <tr>
      <th>ELVERTA</th>
      <td>1235.0</td>
    </tr>
    <tr>
      <th>FAIR OAKS</th>
      <td>1450.0</td>
    </tr>
    <tr>
      <th>FOLSOM</th>
      <td>1939.0</td>
    </tr>
    <tr>
      <th>FORESTHILL</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>GALT</th>
      <td>1479.0</td>
    </tr>
    <tr>
      <th>GARDEN VALLEY</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>GOLD RIVER</th>
      <td>1750.5</td>
    </tr>
    <tr>
      <th>GRANITE BAY</th>
      <td>2896.0</td>
    </tr>
    <tr>
      <th>GREENWOOD</th>
      <td>2846.0</td>
    </tr>
    <tr>
      <th>LINCOLN</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>LOOMIS</th>
      <td>1476.0</td>
    </tr>
    <tr>
      <th>MATHER</th>
      <td>2093.0</td>
    </tr>
    <tr>
      <th>MEADOW VISTA</th>
      <td>1216.0</td>
    </tr>
    <tr>
      <th>NORTH HIGHLANDS</th>
      <td>1152.0</td>
    </tr>
    <tr>
      <th>ORANGEVALE</th>
      <td>1574.0</td>
    </tr>
    <tr>
      <th>PENRYN</th>
      <td>1320.0</td>
    </tr>
    <tr>
      <th>PLACERVILLE</th>
      <td>474.0</td>
    </tr>
    <tr>
      <th>POLLOCK PINES</th>
      <td>1320.0</td>
    </tr>
    <tr>
      <th>RANCHO CORDOVA</th>
      <td>1222.0</td>
    </tr>
    <tr>
      <th>RANCHO MURIETA</th>
      <td>2734.0</td>
    </tr>
    <tr>
      <th>RIO LINDA</th>
      <td>1182.0</td>
    </tr>
    <tr>
      <th>ROCKLIN</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>ROSEVILLE</th>
      <td>1049.0</td>
    </tr>
    <tr>
      <th>SACRAMENTO</th>
      <td>1318.0</td>
    </tr>
    <tr>
      <th>SHINGLE SPRINGS</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>SLOUGHHOUSE</th>
      <td>5822.0</td>
    </tr>
    <tr>
      <th>WALNUT GROVE</th>
      <td>1727.0</td>
    </tr>
    <tr>
      <th>WEST SACRAMENTO</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>WILTON</th>
      <td>3741.0</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="c1"># Deleting extra rows</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;FORESTHILL&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CAMERON PARK&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;EL DORADO HILLS&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;GARDEN VALLEY&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;LINCOLN&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ROCKLIN&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;SHINGLE SPRINGS&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span> <span class="n">df</span><span class="p">[</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;WEST SACRAMENTO&#39;</span> <span class="p">]</span><span class="o">.</span><span class="n">index</span> <span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Replaceing median value to sq_ft with value &#39;0&#39;</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">33</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">28</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">9</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;FOLSOM&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">29</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">16</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">32</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;WILTON&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">30</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">26</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;GALT&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sq_ft</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;sq_ft&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nan</span><span class="p">[</span><span class="s1">&#39;sq_ft&#39;</span><span class="p">][</span><span class="mi">14</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Replaceing median value to beds with value &#39;0&#39;</span>

<span class="n">one</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">]</span>
<span class="n">one</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>73</th>
      <td>17 SERASPI CT</td>
      <td>SACRAMENTO</td>
      <td>95834</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>1318.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>206000</td>
      <td>38.631481</td>
      <td>-121.501880</td>
    </tr>
    <tr>
      <th>89</th>
      <td>2866 KARITSA AVE</td>
      <td>SACRAMENTO</td>
      <td>95833</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>1318.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>244500</td>
      <td>38.626671</td>
      <td>-121.525970</td>
    </tr>
    <tr>
      <th>100</th>
      <td>12209 CONSERVANCY WAY</td>
      <td>RANCHO CORDOVA</td>
      <td>95742</td>
      <td>CA</td>
      <td>0</td>
      <td>0</td>
      <td>1222.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>263500</td>
      <td>38.553867</td>
      <td>-121.219141</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">one</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">,</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">,</span> <span class="s1">&#39;FOLSOM&#39;</span><span class="p">,</span>
       <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">,</span> <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">,</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">,</span> <span class="s1">&#39;WILTON&#39;</span><span class="p">,</span> <span class="s1">&#39;GALT&#39;</span><span class="p">,</span>
       <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">,</span> <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">bed</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">)[</span><span class="s1">&#39;beds&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">bed</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>beds</th>
    </tr>
    <tr>
      <th>city</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>ANTELOPE</th>
      <td>3.0</td>
    </tr>
    <tr>
      <th>AUBURN</th>
      <td>3.0</td>
    </tr>
    <tr>
      <th>CARMICHAEL</th>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">27</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">23</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">7</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;FOLSOM&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">24</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;WILTON&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;GALT&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">11</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">25</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">21</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">beds</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;beds&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bed</span><span class="p">[</span><span class="s1">&#39;beds&#39;</span><span class="p">][</span><span class="mi">26</span><span class="p">]</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># Replaceing median value to baths with value &#39;0&#39;</span>

<span class="n">two</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">]</span>
<span class="n">two</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>73</th>
      <td>17 SERASPI CT</td>
      <td>SACRAMENTO</td>
      <td>95834</td>
      <td>CA</td>
      <td>3.0</td>
      <td>0</td>
      <td>1318.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>206000</td>
      <td>38.631481</td>
      <td>-121.501880</td>
    </tr>
    <tr>
      <th>89</th>
      <td>2866 KARITSA AVE</td>
      <td>SACRAMENTO</td>
      <td>95833</td>
      <td>CA</td>
      <td>3.0</td>
      <td>0</td>
      <td>1318.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>244500</td>
      <td>38.626671</td>
      <td>-121.525970</td>
    </tr>
    <tr>
      <th>100</th>
      <td>12209 CONSERVANCY WAY</td>
      <td>RANCHO CORDOVA</td>
      <td>95742</td>
      <td>CA</td>
      <td>3.0</td>
      <td>0</td>
      <td>1222.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>263500</td>
      <td>38.553867</td>
      <td>-121.219141</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">two</span><span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="nb">array</span><span class="p">([</span><span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">,</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">,</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">,</span> <span class="s1">&#39;FOLSOM&#39;</span><span class="p">,</span>
       <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">,</span> <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">,</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">,</span> <span class="s1">&#39;WILTON&#39;</span><span class="p">,</span> <span class="s1">&#39;GALT&#39;</span><span class="p">,</span>
       <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">,</span> <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="k">object</span><span class="p">)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="n">bath</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;city&#39;</span><span class="p">)[</span><span class="s1">&#39;baths&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
<span class="n">bath</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>baths</th>
    </tr>
    <tr>
      <th>city</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>ANTELOPE</th>
      <td>2.0</td>
    </tr>
    <tr>
      <th>AUBURN</th>
      <td>3.0</td>
    </tr>
    <tr>
      <th>CARMICHAEL</th>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
</div>

<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;SACRAMENTO&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">27</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RANCHO CORDOVA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">23</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;ELK GROVE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">7</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;FOLSOM&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">10</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RANCHO MURIETA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">24</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;GOLD RIVER&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">12</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;ROSEVILLE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">26</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;WILTON&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;GALT&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">11</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;RIO LINDA&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">25</span><span class="p">]</span>

<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">df</span><span class="o">.</span><span class="n">city</span> <span class="o">==</span> <span class="s1">&#39;PLACERVILLE&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">baths</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">,</span> <span class="s1">&#39;baths&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bath</span><span class="p">[</span><span class="s1">&#39;baths&#39;</span><span class="p">][</span><span class="mi">21</span><span class="p">]</span>
</pre></div>


<p>After some work, our dataframe looks much nicer.</p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>


<p>s</p>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>street</th>
      <th>city</th>
      <th>zip</th>
      <th>state</th>
      <th>beds</th>
      <th>baths</th>
      <th>sq_ft</th>
      <th>type</th>
      <th>sale_date</th>
      <th>price</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3526 HIGH ST</td>
      <td>SACRAMENTO</td>
      <td>95838</td>
      <td>CA</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>836.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>59222</td>
      <td>38.631913</td>
      <td>-121.434879</td>
    </tr>
    <tr>
      <th>1</th>
      <td>51 OMAHA CT</td>
      <td>SACRAMENTO</td>
      <td>95823</td>
      <td>CA</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>1167.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>68212</td>
      <td>38.478902</td>
      <td>-121.431028</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2796 BRANCH ST</td>
      <td>SACRAMENTO</td>
      <td>95815</td>
      <td>CA</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>796.0</td>
      <td>Residential</td>
      <td>Wed May 21 00:00:00 EDT 2008</td>
      <td>68880</td>
      <td>38.618305</td>
      <td>-121.443839</td>
    </tr>
  </tbody>
</table>
</div>

<p>Dealing with messy data is a pain. Data cleaning is very important because it is a part of the process on a data science project. In this blog, we went over some ways to detect, summarize, and replace odd values. Usually, we deal with NaN values, but in this blog, we got chance to treat zero values as NaN values.</p>
<p>If you spend less time on data cleaning, you will have more time for exploring and modeling.</p>	

	</article>

    <p>
	<a href="https://twitter.com/share" class="twitter-share-button" data-via="" data-lang="en" data-size="large" data-related="">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
	</p>


		  </div>	
		  
		  <div class="sidebar">

	        <nav>
	          <h2>Categories</h2>
	          <ul>
	              <li class="active"><a href=" https://lucashomil.github.io/datascience/category/misc.html">misc</a></li>
	          </ul>
	        </nav>



		  </div>

	  </div>

      <footer>
		<p role="contentinfo">
		  © 2013 Lucas Ho - Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">pelican</a>. Theme <a href="https://github.com/fle/pelican-simplegrey">pelican-simplegrey</a>.
    	</p>

	  </footer>	

	</div>
	

</body>
</html>